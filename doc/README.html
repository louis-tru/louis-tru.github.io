<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Quark API Documentation</title>
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic" />
	<script>
		var src = 'README.html';
		var relative = '';
		document.write('<link rel="stylesheet" href="'+relative+'assets/style.css" />');
		document.write('<link rel="stylesheet" href="'+relative+'assets/sh.css" />');
	</script>

</head>
<body class="alt apidoc" id="api-section-documentation">

	<style>  
		#column1.interior {
			overflow-wrap: break-word;
		}
	
		.on {
			color: #43853d !important;
			border-radius: 0;
			border-bottom: 1px solid #43853d;
			background: none;
		}

		img {
			max-width: 100%;
		}

	</style>
	
	<div id="content" class="clearfix">

		<div id="column2" class="interior">

			<!--div id="intro" class="interior">
				<a href="/" id="home2" title="Go back to the home page">
					quark
				</a>
			</div-->

			<h1 id="quark">
			<a href="http://quarks.cc/"><code>Quark</code></a>
			<span><a class="mark" href="#quark" id="quark">#</a></span>
		</h1><ul>
<li><a href="README.html"><code>About</code></a></li>
<li><a href="https://www.npmjs.com/package/qkmake"><code>Tools</code></a></li>
<li><a href="https://github.com/louis-tru/quark/tree/master/examples"><code>Examples</code></a></li>
</ul>
<h1 id="modules">
			Modules
			<span><a class="mark" href="#modules" id="modules">#</a></span>
		</h1><ul>
<li><a href="action.html"><code>quark/action</code></a></li>
<li><a href="app.html"><code>quark/app</code></a></li>
<li><a href="bubbles.html"><code>quark/bubbles</code></a></li>
<li><a href="buffer.html"><code>quark/buffer</code></a></li>
<li><a href="checkbox.html"><code>quark/checkbox</code></a></li>
<li><a href="css.html"><code>quark/css</code></a></li>
<li><a href="ctr.html"><code>quark/ctr</code></a></li>
<li><a href="dialog.html"><code>quark/dialog</code></a></li>
<li><a href="event.html"><code>quark/event</code></a></li>
<li><a href="font.html"><code>quark/font</code></a></li>
<li><a href="fs.html"><code>quark/fs</code></a></li>
<li><a href="hash.html"><code>quark/hash</code></a></li>
<li><a href="http.html"><code>quark/http</code></a></li>
<li><a href="index.html"><code>quark/index</code></a></li>
<li><a href="jsonb.html"><code>quark/jsonb</code></a></li>
<li><a href="keyboard.html"><code>quark/keyboard</code></a></li>
<li><a href="media.html"><code>quark/media</code></a></li>
<li><a href="nav.html"><code>quark/nav</code></a></li>
<li><a href="net.html"><code>quark/net</code></a></li>
<li><a href="os.html"><code>quark/os</code></a></li>
<li><a href="path.html"><code>quark/path</code></a></li>
<li><a href="pkg.html"><code>quark/pkg</code></a></li>
<li><a href="screen.html"><code>quark/screen</code></a></li>
<li><a href="stepper.html"><code>quark/stepper</code></a></li>
<li><a href="storage.html"><code>quark/storage</code></a></li>
<li><a href="test.html"><code>quark/test</code></a></li>
<li><a href="types.html"><code>quark/types</code></a></li>
<li><a href="util.html"><code>quark/util</code></a></li>
<li><a href="view.html"><code>quark/view</code></a></li>
<li><a href="window.html"><code>quark/window</code></a></li>
<li><a href="ws.html"><code>quark/ws</code></a></li>
<li><a href="$buffer.html"><code>quark/_buffer</code></a></li>
<li><a href="$common.html"><code>quark/_common</code></a></li>
<li><a href="$event.html"><code>quark/_event</code></a></li>
<li><a href="$ext.html"><code>quark/_ext</code></a></li>
<li><a href="$md5.html"><code>quark/_md5</code></a></li>
<li><a href="$sha1.html"><code>quark/_sha1</code></a></li>
<li><a href="$sha256.html"><code>quark/_sha256</code></a></li>
<li><a href="$util.html"><code>quark/_util</code></a></li>
<li><a href="$watching.html"><code>quark/_watching</code></a></li>
</ul>


		</div>
		
		<div id="column1" data-id="documentation" class="interior">
			<header>
				<h1>Quark v1.2.0 Documentation</h1>
				<div id="gtoc">
					<p>
						<a href="/doc" id="index">Documentation Index</a> |
						<a href="/" id="home">Home</a>
					</p>
				</div>
				<hr>
			</header>

			<div id="toc">
				<h2>Table of Contents</h2>
				<ul>
<li>
<span><a href="#quark">Quark</a></span>
</li>
<li>
<span><a href="#source-code-build">Source Code Build</a></span>
</li>
<li>
<span><a href="#simple-example">Simple Example</a></span>
</li>
<li>
<span><a href="#getting-started">Getting Started</a></span>
<ul>
<li>
<span><a href="#installing-qkmake-from-npm">Installing qkmake from npm</a></span>
</li>
<li>
<span><a href="#creating-a-new-project-using-the-qkmake-tool">Creating a New Project Using the qkmake Tool</a></span>
</li>
<li>
<span><a href="#building-the-project">Building the Project</a></span>
</li>
<li>
<span><a href="#export-project">Export Project</a></span>
</li>
<li>
<span><a href="#test-http-server">Test HTTP Server</a></span>
</li>
</ul>
<li>
<span><a href="#view-layout">View Layout</a></span>
</li>
<li>
<span><a href="#css-stylesheet">CSS Stylesheet</a></span>
</li>
<li>
<span><a href="#actions">Actions</a></span>
<ul>
<li>
<span><a href="#how-do-actions-work-">How do actions work?</a></span>
</li>
<li>
<span><a href="#action-types">Action Types</a></span>
</li>
<li>
<span><a href="#action">Action</a></span>
</li>
<li>
<span><a href="#spawnaction">SpawnAction</a></span>
</li>
<li>
<span><a href="#sequenceaction">SequenceAction</a></span>
</li>
</ul>
<li>
<span><a href="#keyframeaction-and-keyframe">KeyframeAction and Keyframe</a></span>
</li>
<li>
<span><a href="#view-onactionkeyframe-and-view-onactionloop">View.onActionKeyframe and View.onActionLoop</a></span>
</li>
</ul>
			</div>

			<div id="apicontent">
				<h1 id="quark">
			Quark
			<span><a class="mark" href="#quark" id="quark">#</a></span>
		</h1><p>Quark is a cross-platform front-end development framework (<code>Android</code>/<code>iOS</code>/<code>Mac</code>/<code>Linux</code>). Its core code is written in C++, with underlying OpenGL rendering. On top of that, it implements a streamlined layout engine and a JS/JSX runtime environment. Its goal is to develop GUI applications that balance development speed and runtime efficiency.</p>
<ul>
<li>From here, <a href="http://quarks.cc/doc/"><code>Go API Index</code></a> takes you to the <code>API Documentation Index</code>.</li>
</ul>
<table>
<thead>
<tr>
<th><img src="http://quarks.cc/img/000.jpg" alt="Screenshot"></th>
<th><img src="http://quarks.cc/img/001.jpg" alt="Screenshot"></th>
<th><img src="http://quarks.cc/img/002.jpg" alt="Screenshot"></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
<h1 id="source-code-build">
			Source Code Build
			<span><a class="mark" href="#source-code-build" id="source-code-build">#</a></span>
		</h1><ol>
<li><p>Build the required dependencies <code>Xcode</code> / <code>JDK</code> / <code>Android-SDK</code> / <code>python</code> / <code>nodejs</code></p><br/></li>
<li><p>Set the <code>ANDROID_SDK</code> and <code>NDK</code> environment variables</p><br/></li>
<li><p>Pull down the dependent libraries and run <code>make sync</code></p><br/></li>
</ol>
<p>Compiling and installing qkmake and running <code>make all</code> or <code>make install</code> will take a long time.</p>
<p>Get the <a href="https://github.com/louis-tru/quark"><code>Source code</code></a> from <code>Github</code> here.</p>
<h1 id="simple-example">
			Simple Example
			<span><a class="mark" href="#simple-example" id="simple-example">#</a></span>
		</h1><p>This is a simple program that displays &quot;Hello world&quot; on the screen.</p>
<pre><code class="undefinedtsx">import { Jsx, Application, Window } from &#39;quark&#39;
new Application();
new Window().render(
    &lt;text value=&quot;Hello world&quot; textSize={48} align=&quot;centerMiddle&quot; /&gt;
);
</code></pre>
<p>You can get more detailed <a href="https://github.com/louis-tru/quark/tree/master/examples"><code>Examples</code></a></p>
<h1 id="getting-started">
			Getting Started
			<span><a class="mark" href="#getting-started" id="getting-started">#</a></span>
		</h1><p>If you&#39;ve never used Quark before, you can start here and build your Quark program step by step.</p>
<h2 id="installing-qkmake-from-npm">
			Installing qkmake from npm
			<span><a class="mark" href="#installing-qkmake-from-npm" id="installing-qkmake-from-npm">#</a></span>
		</h2><p>First, you need to install the Quark toolkit.</p>
<ul>
<li>Install <code>qkmake</code> using the nodejs <code>npm</code> command.</li>
<li>Open Terminal and execute the following command:</li>
</ul>
<pre><code class="undefinedsh"># shell
$ sudo npm install -g qkmake
</code></pre>
<ul>
<li><p>Running <code>qkmake</code> requires <code>nodejs</code> and <code>python</code>.</p><br/></li>
<li><p>Currently not supported on Windows; you need to use it on a Mac.</p><br/></li>
</ul>
<h2 id="creating-a-new-project-using-the-qkmake-tool">
			Creating a New Project Using the qkmake Tool
			<span><a class="mark" href="#creating-a-new-project-using-the-qkmake-tool" id="creating-a-new-project-using-the-qkmake-tool">#</a></span>
		</h2><p>Use the following <code>shell</code> command to create a new <code>Quark</code> project:</p>
<pre><code class="undefinedsh"># shell
$ mkdir myproj
$ cd myproj
$ qkmake init
</code></pre>
<h2 id="building-the-project">
			Building the Project
			<span><a class="mark" href="#building-the-project" id="building-the-project">#</a></span>
		</h2><p>This step compresses and packages the JavaScript code and resource files within the project.</p>
<p>If this is a new project, you can skip this step and proceed directly to the next one.</p>
<pre><code class="undefinedsh"># shell
$ qkmake build
</code></pre>
<h2 id="export-project">
			Export Project
			<span><a class="mark" href="#export-project" id="export-project">#</a></span>
		</h2><p>This step exports the <a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/ConfiguringYourApp/ConfiguringYourApp.html"><code>Xcode</code></a> or <a href="https://developer.android.com/studio/projects/create-project.html"><code>Android Studio</code></a> project, as the final release will be a <code>.apk</code> or <code>.ipa</code>.</p>
<pre><code class="undefinedsh"># shell
# export xcode ios project
$ qkmake export ios
# export android studio project
$ qkmake export android
</code></pre>
<p>After exporting the project, <code>project/ios</code> and <code>project/android</code> will be generated in the project root directory, corresponding to the <a href="https://developer.apple.com/library/content/documentation/IDEs/Conceptual/AppDistributionGuide/ConfiguringYourApp/ConfiguringYourApp.html"><code>Xcode</code></a> and <a href="https://developer.android.com/studio/projects/create-project.html"><code>Android Studio</code></a> projects, respectively.</p>
<h2 id="test-http-server">
			Test HTTP Server
			<span><a class="mark" href="#test-http-server" id="test-http-server">#</a></span>
		</h2><p><code>qkmake</code> provides a test HTTP server. Every time you modify <code>ts</code> or <code>tsx</code> code, it notifies devices connected to the server and sets the app&#39;s launch address to the debug server address. This allows the interface to automatically update when code changes are made, without having to restart the app.</p>
<p>When you export a project, the startup address is automatically set to this debug address. In most cases, you don&#39;t need to modify it unless you want to connect to a different location.</p>
<p>Start the server by executing the following code:</p>
<pre><code class="undefinedsh"># shell
$ qkmake watch
# Start web server:
# http://192.168.1.200:1026/
# Watching files change:
</code></pre>
<h1 id="view-layout">
			View Layout
			<span><a class="mark" href="#view-layout" id="view-layout">#</a></span>
		</h1><p>Views describe all visible elements on the screen and are also responders to events triggered by the hardware and operating system.</p>
<p>For detailed API documentation, please visit <a href="https://quarks.cc/doc/view.html#view">View</a>.</p>
<p>Here are all the <a href="https://quarks.cc/doc/view.html#view">View</a> classes currently available and their inheritance relationships:</p>
<ul>
<li><a href="https://quarks.cc/doc/view.html#scrollbase">ScrollBase</a></li>
<li><a href="https://quarks.cc/doc/view.html#textoptions">TextOptions</a></li>
<li><a href="https://quarks.cc/doc/view.html#view">View</a><ul><br/><li><a href="https://quarks.cc/doc/view.html#box">Box</a><ul><br/><li><a href="https://quarks.cc/doc/view.html#class-flex">Flex</a><ul><br/><li><a href="https://quarks.cc/doc/view.html#class-flow">Flow</a></li><br/></ul><br/></li><br/><li><a href="https://quarks.cc/doc/view.html#class-free">Free</a></li><br/><li><a href="https://quarks.cc/doc/view.html#class-image">Image</a><ul><br/><li><a href="http://quarks.cc/doc/media.html#class-video">Video</a></li><br/></ul><br/></li><br/><li><a href="https://quarks.cc/doc/view.html#class-input">Input</a>&lt;<a href="https://quarks.cc/doc/view.html#textoptions">TextOptions</a>&gt;<ul><br/><li><a href="https://quarks.cc/doc/view.html#class-textarea">Textarea</a>&lt;<a href="https://quarks.cc/doc/view.html#scrollbase">ScrollBase</a>&gt;</li><br/></ul><br/></li><br/><li><a href="https://quarks.cc/doc/view.html#class-scroll">Scroll</a>&lt;<a href="https://quarks.cc/doc/view.html#scrollbase">ScrollBase</a>&gt;</li><br/><li><a href="https://quarks.cc/doc/view.html#class-text">Text</a>&lt;<a href="https://quarks.cc/doc/view.html#textoptions">TextOptions</a>&gt;<ul><br/><li><a href="https://quarks.cc/doc/view.html#class-button">Button</a></li><br/></ul><br/></li><br/><li><a href="http://quarks.cc/doc/media.html#class-matrix">Matrix</a><ul><br/><li><a href="https://quarks.cc/doc/view.html#class-root">Root</a></li><br/></ul><br/></li><br/></ul><br/></li><br/><li><a href="https://quarks.cc/doc/view.html#class-label">Label</a></li><br/></ul><br/></li>
</ul>
<p>This is a bit like HTML layout:</p>
<pre><code class="undefinedtsx">import {Jsx,Application,Window} from &#39;quark&#39;
new Application()
new Window().render(
    &lt;flex width=&quot;100%&quot; height=&quot;50%&quot; itemsAlign=&quot;centerCenter&quot;&gt;
        &lt;button
            minWidth=&quot;10%&quot;
            maxWidth=&quot;40%&quot;
            height=&quot;100%&quot;
            paddingLeft={5}
            textLineHeight={1} // 100%
            textSize={18}
            textFamily=&quot;iconfont&quot;
            backgroundColor=&quot;#f00&quot;
            textWhiteSpace=&quot;noWrap&quot;
            textAlign=&quot;center&quot;
        &gt;
            &lt;label textFamily=&quot;default&quot; textSize={16} textOverflow=&quot;ellipsis&quot; value=&quot;ABCDEFGHIJKMLNOPQ&quot; /&gt;
        &lt;/button&gt;
        &lt;text
            weight={[0,1]}
            height=&quot;100%&quot;
            textColor=&quot;#00f&quot;
            textLineHeight={1}
            textSize={16}
            textWhiteSpace=&quot;noWrap&quot;
            textWeight=&quot;bold&quot;
            textOverflow=&quot;ellipsisCenter&quot;
            textAlign=&quot;center&quot;
            value=&quot;Title&quot;
            backgroundColor=&quot;#0f0&quot;
        /&gt;
        &lt;text
            minWidth=&quot;10%&quot;
            maxWidth=&quot;40%&quot;
            height=&quot;100%&quot;
            textColor=&quot;#f0f&quot;
            textLineHeight={1}
            backgroundColor=&quot;#0ff&quot;
            textAlign=&quot;center&quot;
            value=&quot;A&quot;
            opacity={0.5}
        /&gt;
    &lt;/flex&gt;
)
</code></pre>
<h1 id="css-stylesheet">
			CSS Stylesheet
			<span><a class="mark" href="#css-stylesheet" id="css-stylesheet">#</a></span>
		</h1><ul>
<li><p>This is very similar to <code>HTML/CSS</code> stylesheets, but currently only supports <code>class</code> and not <code>id</code> or <code>tagName</code>.</p><br/></li>
<li><p>The stylesheet data structure is actually a tree. Each named stylesheet can have child stylesheets, separated by spaces. There is no limit to the number of child stylesheets, but in theory, the more levels there are, the slower the query speed.</p><br/></li>
<li><p>Each stylesheet can specify a <code>time</code> (in milliseconds) to indicate the transition time to this stylesheet. If not specified, no transition occurs.</p><br/></li>
</ul>
<p>When a transition is triggered, an action is created and played.</p>
<ul>
<li>The stylesheet now has three pseudo-class states:<ol><br/><li><code>normal</code> (when the cursor or touch leaves the cursor)</li><br/><li><code>hover</code> (when the cursor enters the cursor or the focus enters the cursor)</li><br/><li><code>action</code> (when the cursor is pressed or the touch leaves the cursor)</li><br/></ol><br/></li>
</ul>
<p>Here is how to write the stylesheet:</p>
<pre><code class="undefinedtsx">import { Jsx, createCss } from &#39;quark&#39;;
createCss({
    &#39;.a&#39;: {
        width: &#39;match&#39;,
        textLineHeight: 45,
        textWhiteSpace: &#39;pre&#39;,
        textSize: 16,
    },
    &#39;.a:normal&#39;: {
        textColor: &#39;#0f0&#39;,
    },
    &#39;.a:hover&#39;: {
        textColor: &#39;#f0f&#39;,
    },
    &#39;.a:active&#39;: {
        textColor: &#39;#f00&#39;,
    },
    &#39;.a .b&#39;: {
        textSize: 20,
    },
    &#39;.a:normal .b&#39;: {
        time: 500,  // 设置一个过渡时间
        textColor: &#39;#000&#39;,
    },
    &#39;.a:hover .b&#39;: {
        time: 500,
        textColor: &#39;#f00&#39;,
    },
    &#39;.a:action .b:action&#39;: { // 这条规则无效，伪类不能存在子伪类
        time: 500,
        textColor: &#39;#f0f&#39;,
    }, 
});
const vx = (
    &lt;text class=&quot;a&quot; &gt;
        &lt;label value=&quot;Hello A!&quot; /&gt;
        &lt;label class=&quot;b&quot; value=&quot;Hello B!&quot; /&gt;
    &lt;/text&gt;
);
</code></pre>
<h1 id="actions">
			Actions
			<span><a class="mark" href="#actions" id="actions">#</a></span>
		</h1><p>What is an action? As the name suggests, it&#39;s the central hub for managing all actions in the runtime environment, or more simply, animations. It&#39;s also one of the core components of the entire framework, providing the ability to create, delete, and insert actions, as well as various operations on keyframes and transitions. Keyframe transitions can use cubic Bezier curves or built-in curves like <code>linear</code>/<code>ease</code>/<code>easeIn</code>/<code>easeOut</code>/<code>easeInOut</code>, similar to most mainstream frameworks and game engines.</p>
<h2 id="how-do-actions-work-">
			How do actions work?
			<span><a class="mark" href="#how-do-actions-work-" id="how-do-actions-work-">#</a></span>
		</h2><p>How do actions drive smooth view movement? The principle is simple. Think of the action system as an independent system, completely unrelated to the view or rendering. The relationship between them is that changes in the action itself are ultimately reflected in the view. This process is accomplished by calling public methods or properties exposed by the view. It&#39;s a completely one-way process, and the view doesn&#39;t issue any instructions to the action.</p>
<p>For example, let&#39;s create a new keyframe action with two keyframes, and set the x value to change from 0 to 100 over one second. When an action changes, it calls the bound view&#39;s API to modify the view&#39;s layout properties. In this process, the view is passive, while the action is active.</p>
<pre><code class="undefinedts">import { Application, Window, Box, KeyframeAction } from &#39;quark&#39;
var app = new Application();
var win = new Window();
var box = new Box(win);
var act = new KeyframeAction(win);
act.add({ x: 0, time: 0 });
act.add({ x: 100, time: 1e3/*milliseconds*/ });
box.width = 50;
box.height = 50;
box.backgroundColor = &#39;#f00&#39;;
box.action = act;
box.appendTo(win.root);
act.loop = 1000;
act.play();
</code></pre>
<h2 id="action-types">
			Action Types
			<span><a class="mark" href="#action-types" id="action-types">#</a></span>
		</h2><p>The following are several types provided by the framework and their inheritance relationships.</p>
<ul>
<li><a href="https://quarks.cc/doc/action.html#class-action">Action</a><ul><br/><li><a href="https://quarks.cc/doc/action.html#class-spawnaction">SpawnAction</a></li><br/><li><a href="https://quarks.cc/doc/action.html#class-sequenceaction">SequenceAction</a></li><br/><li><a href="https://quarks.cc/doc/action.html#class-keyframeaction">KeyframeAction</a></li><br/></ul><br/></li>
</ul>
<h2 id="action">
			Action
			<span><a class="mark" href="#action" id="action">#</a></span>
		</h2><p>This is the base type for all actions. It&#39;s an abstract type and cannot be instantiated directly.</p>
<p>It provides some basic API operations, such as <code>Play</code>, <code>Stop</code>, and <code>Seek</code>. See the API manual for details.</p>
<h2 id="spawnaction">
			SpawnAction
			<span><a class="mark" href="#spawnaction" id="spawnaction">#</a></span>
		</h2><p>As the name suggests, a parallel action runs its sub-actions in parallel. The duration of the longest sub-action is used as the duration of the action itself, while sub-actions with shorter durations wait for the end of the action or the end of a loop.</p>
<h2 id="sequenceaction">
			SequenceAction
			<span><a class="mark" href="#sequenceaction" id="sequenceaction">#</a></span>
		</h2><p>Sequential actions are relatively easy to understand. Sub-actions execute one after another, ending or starting a new loop after all of them complete.</p>
<h1 id="keyframeaction-and-keyframe">
			KeyframeAction and Keyframe
			<span><a class="mark" href="#keyframeaction-and-keyframe" id="keyframeaction-and-keyframe">#</a></span>
		</h1><p>Keyframe actions are the core of the action system. All actions are implemented here, making them the fundamental unit of the action system. The previous <a href="https://quarks.cc/doc/action.html#class-spawnaction">SpawnAction</a> and <a href="https://quarks.cc/doc/action.html#class-spawnaction">SpawnAction</a> only have real meaning when they contain actions of the <a href="https://quarks.cc/doc/action.html#class-keyframeaction">KeyframeAction</a> type. Keyframe actions, in turn, contain the more fundamental element <a href="https://quarks.cc/doc/action.html#class-keyframe">Keyframe</a>. Keyframe properties have the same names as CSS properties and include all properties that can be changed on a view. For example, <a href="http://quarks.cc/doc/media.html#class-matrix">Matrix</a> has an <code>x</code> property, and <a href="https://quarks.cc/doc/action.html#class-keyframe">Keyframe</a> also has an <code>x</code> property. However, if a property on a <a href="https://quarks.cc/doc/action.html#class-keyframe">Keyframe</a> doesn&#39;t exist on a view, then that property will have no effect on the view. For example, there&#39;s no <code>width</code> property on a <a href="https://quarks.cc/doc/view.html#view">View</a>, so changes to <code>width</code> won&#39;t affect the <a href="https://quarks.cc/doc/view.html#view">View</a>. However, if the bound view is a <a href="https://quarks.cc/doc/view.html#box">Box</a>, changes to <code>width</code> will affect it, similar to a <code>CSS</code> style sheet.</p>
<p>See the following example:</p>
<pre><code class="undefinedjs">// This is a valid action
var act1 = new KeyframeAction(win);
var box1 = new Box(win);
box1.backgroundColor = &#39;#f00&#39;;
act1.add({ width: 10, height: 10 });
act1.add({ width: 100, height: 100, time: 1e3 });
box1.action = act1;
act1.play();
// This is invalid
var act2 = new KeyframeAction(win);
var view = new View(win);
act2.add({ width: 10, height: 10 });
act2.add({ width: 100, height: 100, time: 1e3 });
view.action = act2;
act2.play();
</code></pre>
<h1 id="view-onactionkeyframe-and-view-onactionloop">
			View.onActionKeyframe and View.onActionLoop
			<span><a class="mark" href="#view-onactionkeyframe-and-view-onactionloop" id="view-onactionkeyframe-and-view-onactionloop">#</a></span>
		</h1><p>These two events are generated and sent by actions.</p>
<ul>
<li><p><code>View.onActionKeyframe</code> fires when an action reaches a keyframe. Because the rendering frame rate is fixed, the event is always triggered when the frame is rendered, so it may be earlier or later than the ideal time. This delay is stored in the <code>delay</code> field of the event data. Early is a negative number, and late is a positive number.</p><br/></li>
<li><p><code>View.onActionLoop</code> fires at the beginning of an action loop; it is not triggered for the first time an action is executed. It also has a delay, which is also recorded in <code>delay</code>.</p><br/></li>
</ul>
<script>
    <!--
    var language = (navigator.browserLanguage || navigator.language).toLowerCase();
    var isLanguageCn = language.indexOf('cn') >= 0;
    var isPageCn = location.href.indexOf('README-cn') >=0;
    var isHtml = typeof src == 'string'; // html page will have a src variable

    if ( isLanguageCn ) { // cn
        if ( !isPageCn ) { // goto to cn
            location.href = isHtml ? 'README-cn.html' : 'README-cn.md';
        }
    } else { // en
        if ( isPageCn ) { // goto to en
            location.href = isHtml ? 'README.html' : 'README.md';
        }
    }
    -->
</script>
			</div>

		</div>

	</div>

	<script>
		document.write('<script src="'+relative+'assets/sh_main.js"><\/script>');
		document.write('<script src="'+relative+'assets/sh_javascript.min.js"><\/script>');
	</script>

	<script>
		highlight(undefined, undefined, 'pre');
		
		var column2 = document.getElementById('column2');
		var a = column2.querySelector('li > a[href="' + src + '"]')
		if ( a ) {
			a.className += ' on';
		}
		if ( relative ) {
			column2.querySelectorAll('li > a').forEach(function(a) {
				var href = a.getAttribute('href');
				if ( !href.match(/^(\/|https?:\/\/)/) ) {
					a.setAttribute('href', relative + href);
				}
			});
		}
		document.getElementById('index').href = relative + '.';
		document.getElementById('home').href = relative + '..';
		// document.getElementById('home2').href = relative + '..';
	</script>

</body>
</html>